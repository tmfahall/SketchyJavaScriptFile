I was surfing the web a couple weeks ago and had a popup tell me that my version of firefox was out of date and that I should click to download a patch.  Seeing that it was a JavaScript file my curiosity got the best of me and I downloaded the file to see if I could deobfuscate it and see what it all does.  The .txt file is the original and the .js file is my current progress.  I will update this with my findings when I have completed the deobfuscation.